@extends('layouts.app')

@section('title', 'Discussion')

@section('content')
<div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
    <!-- Main Feed -->
    <div class="xl:col-span-2 space-y-6">
        <!-- Create Post -->
        <div class="bg-surface rounded-lg shadow-card p-4">
            <div class="flex items-start gap-4">
                <img class="w-10 h-10 rounded-full object-cover" src="{{ asset('assets/images/avatars/jessica-harris.jpg') }}" alt="Jessica Harris">
                <div class="flex-grow">
                    <textarea class="w-full border-0 ring-1 ring-inset ring-gray-300 rounded-md p-3 focus:ring-2 focus:ring-primary placeholder:text-gray-400" rows="3" placeholder="What's on your mind?"></textarea>
                    <div class="mt-3 flex items-center justify-end">
                        <button class="btn-primary">Post</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feed Posts -->
        @php
        $posts = [
            [
                'author' => 'Daniel Wilson', 'avatar' => 'daniel-wilson.jpg', 'time' => '3h ago',
                'content' => "Just published my first blog post using the SEO techniques we learned in the 'Advanced SEO' cohort! It's about optimizing for local search. Would love to get some feedback from you all. Check it out and let me know what you think!",
                'likes' => 12, 'comments' => 4,
            ],
            [
                'author' => 'Sarah Miller', 'avatar' => 'sarah-miller.jpg', 'time' => '8h ago',
                'content' => "I'm looking for a good video editing software for creating short-form content for social media. What are your top recommendations? Preferably something that's user-friendly but has powerful features.",
                'likes' => 25, 'comments' => 11,
            ],
            [
                'author' => 'Mike Johnson', 'avatar' => 'mike-johnson.jpg', 'time' => '1d ago',
                'content' => "Excited to share a success story! After implementing the A/B testing framework from the 'Growth Marketing' cohort, we saw a 15% increase in our landing page conversion rate. Small changes, big impact! Never underestimate the power of data.",
                'likes' => 48, 'comments' => 9,
            ]
        ];
        @endphp

        @foreach($posts as $post)
        <div class="bg-surface rounded-lg shadow-card">
            <div class="p-5">
                <div class="flex items-center gap-3">
                    <img class="w-10 h-10 rounded-full object-cover" src="{{ asset('assets/images/avatars/' . $post['avatar']) }}" alt="{{ $post['author'] }}">
                    <div>
                        <p class="font-semibold text-copy">{{ $post['author'] }}</p>
                        <p class="text-xs text-copy-lightest">{{ $post['time'] }}</p>
                    </div>
                </div>
                <p class="mt-4 text-copy-light">{{ $post['content'] }}</p>
            </div>
            <div class="px-5 py-3 border-t border-border-color flex items-center gap-4">
                <button class="btn-action">
                     <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" /></svg>
                    <span>Like ({{ $post['likes'] }})</span>
                </button>
                 <button class="btn-action">
                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.494.033.99.067 1.483.099z" /><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0-1.6 1.123-2.994 2.707-3.227 1.068-.157 2.148-.279 3.238-.364.494-.033.99-.067 1.483-.099M21.75 12.76c0 1.6-1.123 2.994-2.707 3.227-1.068.157-2.148.279-3.238.364-.494.033-.99.067-1.483.099z" /><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 12.76c0-1.6-1.123-2.994-2.707-3.227-1.068-.157-2.148-.279-3.238-.364-.494-.033-.99-.067-1.483-.099M2.25 12.76v-1.548c0-1.538 1.06-2.843 2.57-3.136a105.152 105.152 0 0 1 14.36 0c1.51.293 2.57 1.598 2.57 3.136v1.548" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 14.25a.75.75 0 0 1-.75-.75V12a.75.75 0 0 1 1.5 0v1.5a.75.75 0 0 1-.75.75z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 14.25a.75.75 0 0 1-.75-.75V12a.75.75 0 0 1 1.5 0v1.5a.75.75 0 0 1-.75.75zM8.25 14.25a.75.75 0 0 1-.75-.75V12a.75.75 0 0 1 1.5 0v1.5a.75.75 0 0 1-.75.75z" /></svg>
                    <span>{{ $post['comments'] }} Comments</span>
                </button>
            </div>
        </div>
        @endforeach
    </div>

    <!-- Right Sidebar -->
    <div class="space-y-6">
        <!-- Featured Posts -->
        <div class="bg-surface rounded-lg shadow-card p-5">
            <h3 class="font-bold text-copy">Featured Posts</h3>
            <ul class="mt-4 space-y-4">
                <li>
                    <a href="#" class="flex items-start gap-4 group">
                        <img class="w-20 h-16 object-cover rounded-md" src="{{ asset('assets/images/discussion-featured-1.png') }}" alt="Featured post 1">
                        <div>
                            <p class="font-semibold text-sm text-copy group-hover:text-primary">The Ultimate Guide to Content Distribution</p>
                            <p class="text-xs text-copy-lightest mt-1">By David Anderson</p>
                        </div>
                    </a>
                </li>
                <li>
                     <a href="#" class="flex items-start gap-4 group">
                        <img class="w-20 h-16 object-cover rounded-md" src="{{ asset('assets/images/discussion-featured-2.png') }}" alt="Featured post 2">
                        <div>
                            <p class="font-semibold text-sm text-copy group-hover:text-primary">How AI is Changing the SEO Landscape</p>
                            <p class="text-xs text-copy-lightest mt-1">By Emily Davis</p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Trending Topics -->
        <div class="bg-surface rounded-lg shadow-card p-5">
            <h3 class="font-bold text-copy">Trending Topics</h3>
            <div class="mt-4 flex flex-wrap gap-2">
                @foreach (['#SEO', '#growthhacking', '#videomarketing', '#contentstrategy', '#socialmedia', '#analytics'] as $tag)
                    <a href="#" class="tag bg-primary-50 text-primary-800 hover:bg-primary-100">{{ $tag }}</a>
                @endforeach
            </div>
        </div>
    </div>
</div>
@endsection
